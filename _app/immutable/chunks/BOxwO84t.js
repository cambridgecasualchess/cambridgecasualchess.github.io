import{au as X,g as j,L as K,av as Z,a1 as Q,aw as I,S as W,A as _,k as d,K as ee,Z as w,j as $,l as te,C as D,H as se,D as p,ax as R,P as F,w as B,ay as A,az as m,aA as P,aB as ie,ai as C,_ as z,ad as ne,aC as re,T as O,u as b,i as ae,q as he,aD as V,aE as oe,E as le,aF as fe,aG as ue,aH as de,d as ce,aI as _e,aJ as G,V as x,v as E,y as J,aK as H,aL as L,aM as pe,X as ge,M as ve,aN as ye,p as me,af as Ee,B as be,aO as Te,c as we}from"./DoaEGWfy.js";function Ne(t){let e=0,i=K(0),n;return()=>{X()&&(j(i),Z(()=>(e===0&&(n=Q(()=>t(()=>I(i)))),e+=1,()=>{W(()=>{e-=1,e===0&&(n?.(),n=void 0,I(i))})})))}}var Re=le|fe|ue;function Se(t,e,i){new Ae(t,e,i)}class Ae{parent;#s=!1;#t;#g=d?_:null;#n;#u;#r;#i=null;#e=null;#a=null;#h=null;#o=null;#d=0;#l=0;#c=!1;#f=null;#m=()=>{this.#f&&ee(this.#f,this.#d)};#E=Ne(()=>(this.#f=K(this.#d),()=>{this.#f=null}));constructor(e,i,n){this.#t=e,this.#n=i,this.#u=n,this.parent=w.b,this.#s=!!this.#n.pending,this.#r=$(()=>{if(w.b=this,d){const s=this.#g;te(),s.nodeType===D&&s.data===se?this.#T():this.#b()}else{var a=this.#v();try{this.#i=p(()=>n(a))}catch(s){this.error(s)}this.#l>0?this.#p():this.#s=!1}return()=>{this.#o?.remove()}},Re),d&&(this.#t=_)}#b(){try{this.#i=p(()=>this.#u(this.#t))}catch(e){this.error(e)}this.#s=!1}#T(){const e=this.#n.pending;e&&(this.#e=p(()=>e(this.#t)),R.enqueue(()=>{var i=this.#v();this.#i=this.#_(()=>(R.ensure(),p(()=>this.#u(i)))),this.#l>0?this.#p():(F(this.#e,()=>{this.#e=null}),this.#s=!1)}))}#v(){var e=this.#t;return this.#s&&(this.#o=B(),this.#t.before(this.#o),e=this.#o),e}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(e){var i=w,n=C,a=z;A(this.#r),m(this.#r),P(this.#r.ctx);try{return e()}catch(s){return ie(s),null}finally{A(i),m(n),P(a)}}#p(){const e=this.#n.pending;this.#i!==null&&(this.#h=document.createDocumentFragment(),this.#h.append(this.#o),ne(this.#i,this.#h)),this.#e===null&&(this.#e=p(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#l+=e,this.#l===0&&(this.#s=!1,this.#e&&F(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null))}update_pending_count(e){this.#y(e),this.#d+=e,re.add(this.#m)}get_effect_pending(){return this.#E(),j(this.#f)}error(e){var i=this.#n.onerror;let n=this.#n.failed;if(this.#c||!i&&!n)throw e;this.#i&&(O(this.#i),this.#i=null),this.#e&&(O(this.#e),this.#e=null),this.#a&&(O(this.#a),this.#a=null),d&&(b(this.#g),ae(),b(he()));var a=!1,s=!1;const o=()=>{if(a){de();return}a=!0,s&&oe(),R.ensure(),this.#d=0,this.#a!==null&&F(this.#a,()=>{this.#a=null}),this.#s=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#c=!1,p(()=>this.#u(this.#t)))),this.#l>0?this.#p():this.#s=!1};var u=C;try{m(null),s=!0,i?.(e,o),s=!1}catch(f){V(f,this.#r&&this.#r.parent)}finally{m(u)}n&&W(()=>{this.#a=this.#_(()=>{R.ensure(),this.#c=!0;try{return p(()=>{n(this.#t,()=>e,()=>o)})}catch(f){return V(f,this.#r.parent),null}finally{this.#c=!1}})})}}const De=["touchstart","touchmove"];function ke(t){return De.includes(t)}const Fe=new Set,Y=new Set;let q=null;function S(t){var e=this,i=e.ownerDocument,n=t.type,a=t.composedPath?.()||[],s=a[0]||t.target;q=t;var o=0,u=q===t&&t.__root;if(u){var f=a.indexOf(u);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var g=a.indexOf(e);if(g===-1)return;f<=g&&(o=f)}if(s=a[o]||t.target,s!==e){ce(t,"currentTarget",{configurable:!0,get(){return s||i}});var k=C,c=w;m(null),A(null);try{for(var r,h=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var T=s["__"+n];T!=null&&(!s.disabled||t.target===s)&&T.call(s,t)}catch(N){r?h.push(N):r=N}if(t.cancelBubble||v===e||v===null)break;s=v}if(r){for(let N of h)queueMicrotask(()=>{throw N});throw r}}finally{t.__root=e,delete t.currentTarget,m(k),A(c)}}}let l;function Oe(){l=void 0}function He(t){let e=null,i=d;var n;if(d){for(e=_,l===void 0&&(l=J(document.head));l!==null&&(l.nodeType!==D||l.data!==G);)l=x(l);l===null?E(!1):l=b(x(l))}d||(n=document.head.appendChild(B()));try{$(()=>t(n),_e)}finally{i&&(E(!0),l=_,b(e))}}function Le(t,e){var i=e==null?"":typeof e=="object"?e+"":e;i!==(t.__t??=t.nodeValue)&&(t.__t=i,t.nodeValue=i+"")}function Ce(t,e){return U(t,e)}function Me(t,e){H(),e.intro=e.intro??!1;const i=e.target,n=d,a=_;try{for(var s=J(i);s&&(s.nodeType!==D||s.data!==G);)s=x(s);if(!s)throw L;E(!0),b(s);const o=U(t,{...e,anchor:s});return E(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw o;return o!==L&&console.warn("Failed to hydrate: ",o),e.recover===!1&&pe(),H(),ge(i),E(!1),Ce(t,e)}finally{E(n),b(a),Oe()}}const y=new Map;function U(t,{target:e,anchor:i,props:n={},events:a,context:s,intro:o=!0}){H();var u=new Set,f=c=>{for(var r=0;r<c.length;r++){var h=c[r];if(!u.has(h)){u.add(h);var v=ke(h);e.addEventListener(h,S,{passive:v});var T=y.get(h);T===void 0?(document.addEventListener(h,S,{passive:v}),y.set(h,1)):y.set(h,T+1)}}};f(ve(Fe)),Y.add(f);var g=void 0,k=ye(()=>{var c=i??e.appendChild(B());return Se(c,{pending:()=>{}},r=>{if(s){me({});var h=z;h.c=s}if(a&&(n.$$events=a),d&&Ee(r,null),g=t(r,n)||{},d&&(w.nodes_end=_,_===null||_.nodeType!==D||_.data!==be))throw Te(),L;s&&we()}),()=>{for(var r of u){e.removeEventListener(r,S);var h=y.get(r);--h===0?(document.removeEventListener(r,S),y.delete(r)):y.set(r,h)}Y.delete(f),c!==i&&c.parentNode?.removeChild(c)}});return M.set(g,k),g}let M=new WeakMap;function Be(t,e){const i=M.get(t);return i?(M.delete(t),i(e)):Promise.resolve()}export{He as a,Me as h,Ce as m,Le as s,Be as u};
