import{J as p,O as w,T as h,P as C,w as m,D as v,k as g,A as y,ad as A,F as E,j as M,l as S,ae as D,af as F,t as T,E as j,y as P,ag as l,a0 as N,ah as O,ai as b,_ as c,N as R,aj as k,ak as B,a1 as d,al as U,am as $,an as q,ao as z,ap as J,aq as G,ar as H,as as I,at as K}from"./DoaEGWfy.js";import{h as L,m as Q,u as V}from"./BOxwO84t.js";class W{anchor;#t=new Map;#s=new Map;#e=new Map;#a=!0;constructor(e,n=!0){this.anchor=e,this.#a=n}#n=()=>{var e=p;if(this.#t.has(e)){var n=this.#t.get(e),s=this.#s.get(n);if(s)w(s);else{var t=this.#e.get(n);t&&(this.#s.set(n,t.effect),this.#e.delete(n),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),s=t.effect)}for(const[r,o]of this.#t){if(this.#t.delete(r),r===e)break;const i=this.#e.get(o);i&&(h(i.effect),this.#e.delete(o))}for(const[r,o]of this.#s){if(r===n)continue;const i=()=>{if(Array.from(this.#t.values()).includes(r)){var u=document.createDocumentFragment();A(o,u),u.append(m()),this.#e.set(r,{effect:o,fragment:u})}else h(o);this.#s.delete(r)};this.#a||!s?C(o,i,!1):i()}}};#r=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[s,t]of this.#e)n.includes(s)||(h(t.effect),this.#e.delete(s))};ensure(e,n){var s=p,t=E();if(n&&!this.#s.has(e)&&!this.#e.has(e))if(t){var r=document.createDocumentFragment(),o=m();r.append(o),this.#e.set(e,{effect:v(()=>n(o)),fragment:r})}else this.#s.set(e,v(()=>n(this.anchor)));if(this.#t.set(s,e),t){for(const[i,f]of this.#s)i===e?s.skipped_effects.delete(f):s.skipped_effects.add(f);for(const[i,f]of this.#e)i===e?s.skipped_effects.delete(f.effect):s.skipped_effects.add(f.effect);s.oncommit(this.#n),s.ondiscard(this.#r)}else g&&(this.anchor=y),this.#n()}}function oe(a,e,...n){var s=new W(a);M(()=>{const t=e()??null;s.ensure(t,t&&(r=>t(r,...n)))},j)}function X(a){return(e,...n)=>{var s=a(...n),t;if(g)t=y,S();else{var r=s.render().trim(),o=D(r);t=P(o),e.before(t)}const i=s.setup?.(t);F(t,t),typeof i=="function"&&T(i)}}function Y(){return b===null&&O(),(b.ac??=new AbortController).signal}function x(a){c===null&&l(),B&&c.l!==null?_(c).m.push(a):N(()=>{const e=d(a);if(typeof e=="function")return e})}function Z(a){c===null&&l(),x(()=>()=>d(a))}function ee(a,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(a,{detail:e,bubbles:n,cancelable:s})}function te(){const a=c;return a===null&&l(),(e,n,s)=>{const t=a.s.$$events?.[e];if(t){const r=R(t)?t.slice():[t],o=ee(e,n,s);for(const i of r)i.call(a.x,o);return!o.defaultPrevented}return!0}}function se(a){c===null&&l(),c.l===null&&k(),_(c).b.push(a)}function ae(a){c===null&&l(),c.l===null&&k(),_(c).a.push(a)}function _(a){var e=a.l;return e.u??={a:[],b:[],m:[]}}const ie=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:ae,beforeUpdate:se,createContext:U,createEventDispatcher:te,createRawSnippet:X,flushSync:$,fork:q,getAbortSignal:Y,getAllContexts:z,getContext:J,hasContext:G,hydrate:L,mount:Q,onDestroy:Z,onMount:x,setContext:H,settled:I,tick:K,unmount:V,untrack:d},Symbol.toStringTag,{value:"Module"}));export{W as B,ie as a,x as o,oe as s};
